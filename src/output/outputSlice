import { createSlice, PayloadAction } from "@reduxjs/toolkit";

export enum OutputTypes {
  condition,
  selectedItemID,
  itemOrderShown,
  numberOfItemsShown,
  skipCardPage,
  reachedBasket,
  emptyBasket,
  timeSpentPerPage,
}

const initialState: { [key: number]: string } = {
  [OutputTypes.skipCardPage]: "0",
  [OutputTypes.reachedBasket]: "0",
  [OutputTypes.emptyBasket]: "0",
  [OutputTypes.condition]: "0",
  [OutputTypes.selectedItemID]: "0",
  [OutputTypes.itemOrderShown]: "0",
  [OutputTypes.timeSpentPerPage]: "0",
  [OutputTypes.numberOfItemsShown]: "0",
};

const outputSlice = createSlice({
  name: "output",
  initialState,
  reducers: {
    addOutput: (
      state,
      action: PayloadAction<{ key: OutputTypes; value: string }>
    ) => {
      const { key, value } = action.payload;
      state[key] = value;
    },
  },
});

export const { reducer: outputStoreReducer } = outputSlice;
export const { addOutput } = outputSlice.actions;
